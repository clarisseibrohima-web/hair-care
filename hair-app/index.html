<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard Capillaire</title>
  <link rel="stylesheet" href="style/style.css">
  <script src="https://unpkg.com/lucide/dist/lucide.min.js"></script>
  <script src="js/theme.js" defer></script>
</head>
<body>

<header>
  <h1 class="rubrique-titre">
   ğŸï¸ Dashboard</h1>
</header>

 <!-- ================= Dashboard Icons ================= -->
<section id="dashboard" class="carte">
  <div class="dashboard-grid">
    <a href="conseils.html" class="dashboard-icon">ğŸ’‡ğŸ¾â€â™€ï¸<span>Conseils</span></a>
    <a href="routine.html" class="dashboard-icon">âœ¨ğŸ§´<span>Routine</span></a>
    <a href="journal.html" class="dashboard-icon">ğŸ“—<span>Journal</span></a>
    <a href="stats.html" class="dashboard-icon">ğŸ“ˆ<span>Stats</span></a>
    <a href="settings.html" class="dashboard-icon">âš™ï¸<span>ParamÃ¨tres</span></a>
  </div>
</section>
  
<!-- ================= Progression Routine ================= -->
<section class="carte">
  <h3>ğŸ“Š Progression Routine</h3>
  <div class="progress-bar-bg">
    <div class="progress-bar-fill" id="progressionBar"></div>
  </div>
  <p id="progressionText"></p>
</section>



 <!-- ================= Citation Motivante ================= -->
<div id="citation-box" class="carte">
  <p id="citation"></p>
</div>
  
<!-- ================= Mood Capillaire ================= -->
<section id="moodSection" class="carte">
  <h3>ğŸŒº Mood capillaire du jour</h3>
  <div class="mood-options">
    <button data-mood="ğŸ¥°">ğŸ¥°</button>
    <button data-mood="ğŸ˜Š">ğŸ˜Š</button>
    <button data-mood="ğŸ˜">ğŸ˜</button>
    <button data-mood="ğŸ˜©">ğŸ˜©</button>
    <button data-mood="ğŸ˜­">ğŸ˜­</button>
  </div>
  <h4>ğŸ“… Historique</h4>
  <div id="moodHistorique"></div>
  <p id="moodResult"></p>
</section>


<!-- ================= Bottom Nav ================= -->
<nav class="bottom-nav">
  <a href="conseils.html"><span>ğŸ’‡ğŸ¾â€â™€ï¸</span></a>
  <a href="journal.html"><span>ğŸ“—ğŸƒ</span></a>
  <a href="routine.html"><span>âœ¨ğŸ§´</span></a>
  <a href="stats.html"><span>ğŸ“Š</span></a>
  <a href="settings.html"><span>ğŸ¥¥</span></a>
</nav>

<script>
  // ================= Citations motivantes =================
  const citations = {
    debut: ["ğŸŒ± Chaque petit geste compte.", "ğŸ’§ Le soin commence aujourdâ€™hui.", "ğŸŒŠ La constance crÃ©e la magie."],
    milieu: ["âœ¨ Tu es sur la bonne voie.", "ğŸŒ¸ Continue, tes cheveux ressentent lâ€™amour.", "ğŸ’™ La rÃ©gularitÃ© est ton super pouvoir."],
    avance: ["ğŸ”¥ Tu peux Ãªtre fiÃ¨re de toi.", "ğŸŒº Les rÃ©sultats arrivent.", "ğŸª· La patience paie toujours."],
    presque: ["ğŸï¸ Tu touches au but.", "ğŸ’« Tes efforts parlent pour toi.", "ğŸŒ Encore un pas."],
    fini: ["ğŸ† Objectif accompli !", "âœ¨ Tu lâ€™as fait.", "ğŸŒˆ Tes cheveux te remercient."]
  };

  // ================= Mood Capillaire =================
  const moodResult = document.getElementById("moodResult");
  const moodHistorique = document.getElementById("moodHistorique");
  const moodButtons = document.querySelectorAll(".mood-options button");
  let moods = JSON.parse(localStorage.getItem("moods")) || [];

  function renderMoodHistorique() {
    moodHistorique.innerHTML = "";
    moods.slice().reverse().forEach(m => {
      const div = document.createElement("div");
      div.className = "mood-card";
      div.innerHTML = `<span>${m.date}</span> <span style="font-size:1.2em">${m.mood}</span>`;
      moodHistorique.appendChild(div);
    });
  }

  document.addEventListener("DOMContentLoaded", () => {
    const today = new Date().toLocaleDateString("fr-FR");
    const savedMood = moods.find(m => m.date === today);
    if (savedMood) moodResult.textContent = "Aujourdâ€™hui : " + savedMood.mood;
    renderMoodHistorique();
  });

  moodButtons.forEach(btn => {
    btn.addEventListener("click", () => {
      const today = new Date().toLocaleDateString("fr-FR");
      moods = moods.filter(m => m.date !== today);
      moods.push({ date: today, mood: btn.dataset.mood });
      localStorage.setItem("moods", JSON.stringify(moods));
      moodResult.textContent = "Aujourdâ€™hui : " + btn.dataset.mood;
      renderMoodHistorique();
    });
  });

  // ================= Progression Routine =================
  function updateProgression() {
    const routineData = JSON.parse(localStorage.getItem("routineData")) || [];
    const total = routineData.length;
    const completees = routineData.filter(s => s.completee).length;
    const pourcentage = total === 0 ? 0 : Math.round((completees / total) * 100);

    const barre = document.getElementById("progressionBar");
    const texte = document.getElementById("progressionText");

    if (barre) barre.style.width = pourcentage + "%";
    if (texte) texte.textContent = `Progression : ${pourcentage}% (${completees}/${total})`;

    // Citation selon progression
    let liste;
    if (pourcentage < 26) liste = citations.debut;
    else if (pourcentage < 51) liste = citations.milieu;
    else if (pourcentage < 76) liste = citations.avance;
    else if (pourcentage < 100) liste = citations.presque;
    else liste = citations.fini;

    const citationBox = document.getElementById("citation");
    citationBox.textContent = liste[Math.floor(Math.random() * liste.length)];
  }

  document.addEventListener("DOMContentLoaded", updateProgression);
</script>

</body>
</html>